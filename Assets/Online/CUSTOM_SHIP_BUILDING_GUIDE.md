# Custom Ship Building System Guide

**Complete guide to building custom ships in Gravity Wars**

---

## Overview

The custom ship building system allows players to create personalized ships by combining unlocked components:

1. **Ship Body** - Defines archetype, base stats, and 3D model
2. **1 Passive Ability** - Must match ship body archetype
3. **3 Active Abilities (Perks)** - One from each tier (1, 2, 3)
4. **Custom Name** - Player's chosen name

**Custom ships act like prebuild ships:**
- Start at level 1
- Level up through use
- Take up a custom slot

**Important:** Missiles are SEPARATE! They're selected before matches, not during ship building.

---

## Ship Building Process

### Step 1: Choose Ship Body

Ship bodies define your ship's archetype and base characteristics:

| Archetype | Characteristics | Available Bodies |
|-----------|-----------------|------------------|
| **All-Around** | Balanced stats, versatile | 4 bodies (levels 21-71) |
| **Tank** | High armor, slow movement | 4 bodies (levels 21-76) |
| **Damage Dealer** | High damage, low armor | 4 bodies (levels 21-83) |
| **Controller** | Tactical abilities, crowd control | 4 bodies (levels 27-91) |

**Ship Body Unlock Levels:**
- Level 21: Standard bodies (All-Around, Tank, DD)
- Level 27: Tactician Frame (Controller)
- Level 36-48: Advanced bodies
- Level 56-83: Elite/Legendary bodies
- Level 71-91: Ultimate bodies

### Step 2: Choose Passive Ability

**Important: Passives have archetype restrictions!**

You can ONLY equip passives that match your ship body's archetype.

#### Passive Distribution by Archetype

**Tank Passives (10 total):**
- Armor Boost I, II, III (levels 5, 22, 46)
- Fortified (level 35)
- Juggernaut (level 58)
- Adaptive Armor (level 66)
- Supreme Regeneration (level 70)
- Titan Soul (level 76)
- Last Stand (level 82)

**Damage Dealer Passives (10 total):**
- Speed Boost I, II, III (levels 8, 24, 49)
- Damage Boost I, II, III (levels 11, 26, 51)
- Critical Strike (level 29)
- Lifesteal (level 33)
- Berserker (level 54)
- Momentum (level 64)

**All-Around Passives (7 total):**
- Shield Regeneration (level 14)
- Evasion (level 31)
- Overcharge (level 37)
- Overdrive (level 74)
- Phoenix Rebirth (level 81)
- Celestial Blessing (level 86)
- Omega Protocol (level 91)
- Ascension (level 96)

**Controller Passives (3 total):**
- Energy Efficiency (level 17)
- Phantom (level 63)
- Gravity Master (level 47)

### Step 3: Choose 3 Active Abilities (Perks)

**You MUST select ONE active from EACH tier!**

#### Tier 1 Actives (Basic - 8 options)

Low cooldown, fundamental abilities:

| Active | Level | Cooldown | Description |
|--------|-------|----------|-------------|
| Afterburner | 9 | 10s | Temporary speed boost |
| Energy Shield | 13 | 15s | Temporary invulnerability |
| Emergency Repair | 16 | 30s | Restore 30% health |
| EMP Pulse | 19 | 20s | Disrupt enemy targeting |
| Stealth Cloak | 27 | 25s | Become invisible briefly |
| Weapon Overload | 30 | 15s | Triple damage for short time |
| Phase Blink | 32 | 12s | Teleport short distance |
| Tactical Swap | 50 | 35s | Swap positions with enemy |

**Example Tier 1 Selection:**
- Early game: Choose Afterburner (level 9) or Energy Shield (level 13)
- Mid game: Stealth Cloak (level 27) or Weapon Overload (level 30)

#### Tier 2 Actives (Advanced - 7 options)

Moderate cooldown, tactical abilities:

| Active | Level | Cooldown | Description |
|--------|-------|----------|-------------|
| Gravity Well | 36 | 30s | Pull enemies toward you |
| Time Dilation | 40 | 45s | Slow time in area |
| Nova Bomb | 48 | 40s | Massive area explosion |
| Fortress Mode | 55 | 60s | Immobile but +100% armor |
| Berserker Rage | 60 | 50s | +50% damage, -50% defense |
| Mirror Clone | 67 | 45s | Create decoy copy of ship |
| Singularity | 69 | 90s | Create black hole |

**Example Tier 2 Selection:**
- Tank build: Fortress Mode (level 55)
- DD build: Berserker Rage (level 60) or Nova Bomb (level 48)
- Controller build: Gravity Well (level 36) or Time Dilation (level 40)

#### Tier 3 Actives (Ultimate - 5 options)

High cooldown, game-changing abilities:

| Active | Level | Cooldown | Description |
|--------|-------|----------|-------------|
| Ultima | 75 | 120s | Screen-clearing ultimate attack |
| Phoenix Burst | 83 | 180s | Death-defying resurrection |
| Ragnarok | 88 | 150s | Apocalyptic destruction |
| Ascension | 93 | 200s | Become god-like temporarily |
| Omega Strike | 98 | 300s | Ultimate one-shot kill ability |

**Example Tier 3 Selection:**
- Defensive: Phoenix Burst (level 83) - revive on death
- Offensive: Ragnarok (level 88) or Omega Strike (level 98)
- Balanced: Ultima (level 75) or Ascension (level 93)

### Step 4: Name Your Ship

- Max length: 30 characters
- Cannot be empty
- Can use letters, numbers, spaces, and special characters

**Examples:**
- "Shadow Assassin"
- "Iron Fortress MK-II"
- "The Destroyer"
- "Speed Demon"

---

## Example Ship Builds

### Build 1: Tank Fortress (Early-Mid Game)

**Available at Level 35+**

- **Body:** Reinforced Hull (Tank, level 21)
- **Passive:** Fortified (Tank, level 35) - Reduces incoming damage by 10%
- **Tier 1 Active:** Emergency Repair (level 16) - Restore 30% health
- **Tier 2 Active:** Gravity Well (level 36) - Pull enemies close
- **Tier 3 Active:** (Not unlocked yet - must wait for level 75+)

**Note:** Can't build this until you have a Tier 3 active unlocked!

### Build 2: Glass Cannon DD (Mid Game)

**Available at Level 75+**

- **Body:** Striker Chassis (DD, level 21)
- **Passive:** Lifesteal (DD, level 33) - Heal 5% of damage dealt
- **Tier 1 Active:** Weapon Overload (level 30) - Triple damage
- **Tier 2 Active:** Berserker Rage (level 60) - +50% damage
- **Tier 3 Active:** Ultima (level 75) - Screen-clearing attack

**Strategy:** Maximum offense with lifesteal for sustain

### Build 3: All-Around Survivor (Late Game)

**Available at Level 83+**

- **Body:** Master Frame (All-Around, level 66)
- **Passive:** Phoenix Rebirth (All-Around, level 81) - Revive once per match
- **Tier 1 Active:** Phase Blink (level 32) - Teleport to safety
- **Tier 2 Active:** Mirror Clone (level 67) - Create decoy
- **Tier 3 Active:** Phoenix Burst (level 83) - Death-defying resurrection

**Strategy:** Ultimate survivability with two revive mechanics

### Build 4: Controller Tactician (Endgame)

**Available at Level 93+**

- **Body:** Divine Frame (Controller, level 91)
- **Passive:** Gravity Master (Controller, level 47) - Improved planet interactions
- **Tier 1 Active:** EMP Pulse (level 19) - Disrupt enemy targeting
- **Tier 2 Active:** Singularity (level 69) - Create black hole
- **Tier 3 Active:** Ascension (level 93) - Become god-like

**Strategy:** Battlefield control with crowd control and disruption

---

## Slot Management

### Custom Slot Unlocks

| Slot | Unlock Level | Notes |
|------|--------------|-------|
| Slot #1 | 1 (starter) | Available immediately |
| Slot #2 | 20 | Mid-game expansion |
| Slot #3 | 40 | Late-game expansion |

### Deleting Ships

**You can delete ANY ship to free a slot:**
- Prebuild ships (unlocked through progression)
- Custom ships (player-created)

**WARNING: Deletion is PERMANENT!**
- Lose ALL progress on that ship
- Ship level, XP, match history - all gone
- Prebuild ships can be deleted but won't be re-unlocked
- Custom ships can be rebuilt if you still have the components unlocked

**When to delete:**
- Want to build a new custom ship but slots are full
- Have a low-level ship you don't use
- Want to remake a custom ship with better components

---

## Building Validation

The system validates your build:

### Required Checks

✅ **Ship body unlocked** - Must own the body
✅ **Passive unlocked** - Must own the passive
✅ **Passive compatible** - Must match body archetype
✅ **All 3 actives unlocked** - Must own all 3 actives
✅ **Correct tiers** - One from Tier 1, one from Tier 2, one from Tier 3
✅ **Available slot** - Must have an open custom slot
✅ **Valid name** - 1-30 characters, not empty

### Common Errors

**"Passive is not compatible with Tank archetype"**
- Solution: Choose a Tank-compatible passive

**"Active is Tier 2, but Tier 1 is required"**
- Solution: Select actives from correct tiers

**"No available custom slots"**
- Solution: Delete a ship to free a slot OR level up to unlock more slots

---

## Ship Progression

### Custom Ships Level Up

Custom ships gain XP and level up like prebuild ships:

- **Starting Level:** 1
- **XP Sources:** Playing matches, winning matches, performance bonuses
- **Level Cap:** Same as prebuild ships
- **Stats Scaling:** Base stats from ship body + level-based scaling

### Ship Stats

**Tracked per custom ship:**
- Ship level
- Total XP
- Total matches played
- Total matches won
- Win rate
- Creation timestamp

---

## Code Reference

### Creating a Custom Ship

```csharp
// Example: Build a custom ship
var validation = CustomShipBuilder.ValidateShipBuild(
    profile,
    bodyId: "body_allaround_standard",
    passiveId: "passive_shield_regen",
    tier1ActiveId: "active_boost",
    tier2ActiveId: "active_gravity_well",
    tier3ActiveId: "active_ultima"
);

if (validation.isValid)
{
    var customShip = CustomShipBuilder.CreateCustomShip(
        profile,
        bodyId: "body_allaround_standard",
        passiveId: "passive_shield_regen",
        tier1ActiveId: "active_boost",
        tier2ActiveId: "active_gravity_well",
        tier3ActiveId: "active_ultima",
        customName: "My Custom Ship"
    );

    Debug.Log($"Ship created: {customShip.loadoutId}");
}
else
{
    Debug.LogError($"Validation failed: {string.Join(", ", validation.errors)}");
}
```

### Deleting a Ship

```csharp
// Delete a prebuild ship
bool deleted = CustomShipBuilder.DeleteShip(
    profile,
    shipId: "nova_class",
    isPrebuildShip: true
);

// Delete a custom ship
bool deleted = CustomShipBuilder.DeleteShip(
    profile,
    shipId: customShip.loadoutId,
    isPrebuildShip: false
);
```

### Getting Available Components

```csharp
// Get actives organized by tier
var activesByTier = CustomShipBuilder.GetActivesByTier(profile);

foreach (var active in activesByTier[1])  // Tier 1 actives
{
    Debug.Log($"Tier 1: {active.displayName}");
}

// Get passives compatible with Tank archetype
var tankPassives = CustomShipBuilder.GetCompatiblePassives(profile, ShipClass.Tank);

foreach (var passive in tankPassives)
{
    Debug.Log($"Tank passive: {passive.displayName}");
}
```

---

## UI Implementation Tips

### Ship Builder Screen Flow

1. **Select Ship Body**
   - Show all unlocked bodies
   - Group by archetype
   - Display archetype restrictions

2. **Select Passive**
   - Filter passives by selected body's archetype
   - Show only compatible passives
   - Gray out incompatible ones

3. **Select Tier 1 Active**
   - Show all unlocked Tier 1 actives
   - Display cooldown and description

4. **Select Tier 2 Active**
   - Show all unlocked Tier 2 actives
   - Display cooldown and description

5. **Select Tier 3 Active**
   - Show all unlocked Tier 3 actives
   - Display cooldown and description
   - Often unlocked later in progression

6. **Enter Custom Name**
   - Text input field (max 30 characters)
   - Real-time validation

7. **Confirm Build**
   - Show summary of all selections
   - Display any validation errors
   - Create ship button

### Slot Management Screen

**Display:**
- Current custom ships (with level, name, stats)
- Current prebuild ships
- Available slots vs. used slots
- Delete button for each ship (with confirmation!)

**Delete Confirmation:**
```
⚠️ WARNING ⚠️
Are you sure you want to delete [Ship Name] (Level X)?

This will:
- Permanently remove this ship
- Delete ALL progress (level, XP, stats)
- Free up 1 custom slot

This action CANNOT be undone!

[Cancel] [Delete Forever]
```

---

## Summary

✅ **Custom ships** = Body + 1 Passive + 3 Actives (one per tier) + Name
✅ **Passives** have archetype restrictions (must match body)
✅ **Actives** organized into 3 tiers (must select one from each)
✅ **Missiles** are SEPARATE (not part of ship building)
✅ **Custom ships** start at level 1 and level up through use
✅ **Slots** can be freed by deleting ships (permanently)
✅ **Validation** ensures builds are valid before creation

The custom ship building system provides deep customization while maintaining balance through archetype restrictions and tier requirements!
